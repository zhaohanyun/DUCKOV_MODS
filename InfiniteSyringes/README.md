# InfiniteSyringes Mod

无限针剂 Mod for 《逃离鸭科夫》（Escape from Duckov）

让您的针剂类物品使用后自动恢复，永不消耗！

## 功能说明

### 无限针剂

**功能：打针类药品使用后自动恢复**

监听药品使用，数量减少时自动补回，不会被消耗。

**工作原理：**
- 订阅 `UsageUtilities.OnItemUsedStaticEvent` 事件检测物品使用
- 识别名称包含"针"或"剂"且可堆叠的物品
- 订阅 `Item.onSetStackCount` 事件监听数量变化
- 仅在物品刚使用后才恢复数量（区分使用和拆分操作）
- 自动保存在原容器位置（背包、收纳包等）

**支持物品：**
- 任何名称包含"针"或"剂"且可堆叠的消耗品
- 例如：止血针、硬化针、负重针、镇痛剂等

## 项目配置

- ✅ TargetFramework: netstandard2.1
- ✅ 项目结构已搭建
- ✅ ModBehaviour 类已创建

## 安装方法

1. 将 `InfiniteSyringes.dll` 和 `info.ini` 放入游戏的 Mods 文件夹：
   ```
   Duckov_Data/Mods/InfiniteSyringes/
   ├── InfiniteSyringes.dll
   └── info.ini
   ```

2. 启动游戏，Mod 会自动加载

## 技术细节

### 核心机制

本 Mod 通过监听物品使用和数量变化事件，实现针剂类物品的不消耗：

1. **事件订阅**：当物品被使用时，订阅其数量变化事件并标记为"刚使用"
2. **数量监听**：检测到数量减少时检查是否有"刚使用"标记
3. **智能恢复**：
   - 有标记：恢复数量（判断为使用消耗）
   - 无标记：不恢复（判断为拆分等其他操作）
4. **容器保留**：恢复的物品保持原容器位置

### 静默运行

Mod 运行时不会输出任何日志信息，完全静默运行，不影响游戏体验。

## 兼容性

- ✅ 与所有其他 Mod 兼容
- ✅ 不影响游戏其他功能
- ✅ 支持所有针剂类物品
- ✅ 自动识别新添加的针剂物品

## 版本历史

### v1.0.0
- 初始版本
- 实现针剂类物品不消耗功能
- 支持拆分操作识别
- 自动保留原容器位置

## 许可

本 Mod 为开源项目，您可以自由使用和修改。

## 致谢

感谢《逃离鸭科夫》开发团队提供的优秀 Modding 支持！

